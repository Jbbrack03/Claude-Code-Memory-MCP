# Claude Memory MCP Server Configuration
# Copy this file to .env and update with your settings

# Server Configuration
NODE_ENV=production
LOG_LEVEL=info
SESSION_ID=default

# Storage Configuration
SQLITE_PATH=.claude-memory/memory.db
SQLITE_WAL_MODE=true
SQLITE_BUSY_TIMEOUT=5000
SQLITE_CACHE_SIZE=2000

# Vector Storage
VECTOR_PROVIDER=local
VECTOR_PATH=.claude-memory/vectors
VECTOR_DIMENSION=384

# File Storage
FILES_PATH=.claude-memory/files
MAX_FILE_SIZE=100MB

# Memory Limits
MAX_MEMORY_SIZE=100MB
MAX_MEMORIES_PER_PROJECT=100000

# Hook System
HOOK_TIMEOUT=5000
HOOK_MAX_MEMORY=100MB
HOOK_MAX_CPU=1

# Circuit Breaker
CIRCUIT_FAILURE_THRESHOLD=5
CIRCUIT_RESET_TIMEOUT=60000
CIRCUIT_HALF_OPEN_REQUESTS=3

# Sandbox
SANDBOX_ENABLED=true
SANDBOX_ALLOWED_COMMANDS=claude-memory,echo,date

# Git Integration
GIT_INTEGRATION=true
GIT_AUTO_DETECT=true
GIT_BRANCH=
GIT_REMOTE=origin
GIT_CHECK_INTERVAL=30000
GIT_VALIDATE_ON_STARTUP=true
GIT_RECONCILE_ON_CONFLICT=true

# Intelligence Layer
EMBEDDINGS_MODEL=all-MiniLM-L6-v2
EMBEDDINGS_BATCH_SIZE=32
EMBEDDINGS_CACHE=true
RETRIEVAL_TOP_K=10
RETRIEVAL_MIN_SCORE=0.7
RETRIEVAL_RERANK=true
CONTEXT_MAX_SIZE=15000
CONTEXT_INCLUDE_METADATA=true
CONTEXT_DEDUPLICATION=true

# Performance
CACHE_ENABLED=true
CACHE_TTL=300000
CACHE_MAX_SIZE=50MB
BACKGROUND_TASKS_ENABLED=true
CLEANUP_INTERVAL=3600000
OPTIMIZE_INTERVAL=86400000

# Security
DETECT_SECRETS=true
REDACT_SECRETS=true
SECRET_PATTERNS=api[_-]?key,secret[_-]?key,password,token,bearer
ENCRYPTION_ENABLED=true
ENCRYPTION_ALGORITHM=aes-256-gcm

# Monitoring
METRICS_ENABLED=true
METRICS_PREFIX=claude_memory
METRICS_COLLECT_DEFAULT=true
METRICS_COLLECTION_INTERVAL=30000
METRICS_ENDPOINT_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics
METRICS_AUTH_ENABLED=false
METRICS_AUTH_USERNAME=
METRICS_AUTH_PASSWORD=
METRICS_ALLOWED_IPS=
METRICS_TIMEOUT=5000

# Tracing
TRACING_ENABLED=true
TRACING_SERVICE_NAME=claude-memory-mcp
TRACING_ENDPOINT=
OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=
TRACING_SAMPLE_RATE=1.0

# Health Checks
HEALTH_CHECKS_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# Alerting
ALERTING_ENABLED=true
ALERTING_CHECK_INTERVAL=60000
ALERT_WEBHOOK_URL=
ALERT_EMAIL_ENABLED=false
ALERT_EMAIL_SMTP=
ALERT_EMAIL_FROM=
ALERT_EMAIL_TO=